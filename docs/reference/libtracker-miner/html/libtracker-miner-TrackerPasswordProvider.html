<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TrackerPasswordProvider</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Tracker Miner Library Reference Manual">
<link rel="up" href="ch05.html" title="Base abstract providers for network/password/etc control">
<link rel="prev" href="libtracker-miner-TrackerNetworkProvider.html" title="TrackerNetworkProvider">
<link rel="next" href="ch06.html" title="Utilities">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libtracker-miner-TrackerNetworkProvider.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch05.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Tracker Miner Library Reference Manual</th>
<td><a accesskey="n" href="ch06.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libtracker-miner-TrackerPasswordProvider.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libtracker-miner-TrackerPasswordProvider.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="libtracker-miner-TrackerPasswordProvider"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libtracker-miner-TrackerPasswordProvider.top_of_page"></a>TrackerPasswordProvider</span></h2>
<p>TrackerPasswordProvider — Password storage interface for cross platform backends</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="libtracker-miner-TrackerPasswordProvider.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;libtracker-miner/tracker-miner.h&gt;

#define             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TRACKER-PASSWORD-PROVIDER-ERROR:CAPS" title="TRACKER_PASSWORD_PROVIDER_ERROR">TRACKER_PASSWORD_PROVIDER_ERROR</a>
#define             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TRACKER-PASSWORD-PROVIDER-ERROR-DOMAIN:CAPS" title="TRACKER_PASSWORD_PROVIDER_ERROR_DOMAIN">TRACKER_PASSWORD_PROVIDER_ERROR_DOMAIN</a>
typedef             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider">TrackerPasswordProvider</a>;
enum                <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProviderError" title="enum TrackerPasswordProviderError">TrackerPasswordProviderError</a>;
                    <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProviderIface" title="TrackerPasswordProviderIface">TrackerPasswordProviderIface</a>;
<a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="returnvalue">GQuark</span></a>              <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-error-quark" title="tracker_password_provider_error_quark ()">tracker_password_provider_error_quark</a>
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-forget-password" title="tracker_password_provider_forget_password ()">tracker_password_provider_forget_password</a>
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
<a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="returnvalue">TrackerPasswordProvider</span></a> * <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-get" title="tracker_password_provider_get ()">tracker_password_provider_get</a> (<em class="parameter"><code><span class="type">void</span></code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-get-name" title="tracker_password_provider_get_name ()">tracker_password_provider_get_name</a>  (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-get-password" title="tracker_password_provider_get_password ()">tracker_password_provider_get_password</a>
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> **username</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-lock-password" title="tracker_password_provider_lock_password ()">tracker_password_provider_lock_password</a>
                                                        (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-store-password" title="tracker_password_provider_store_password ()">tracker_password_provider_store_password</a>
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *description</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *username</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-unlock-password" title="tracker_password_provider_unlock_password ()">tracker_password_provider_unlock_password</a>
                                                        (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="libtracker-miner-TrackerPasswordProvider.description"></a><h2>Description</h2>
<p>
The <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> allows different backends to be
written for storing sensitive information about web services which
are needed to authenticate and mine data. Currently, there are two
implementations. One for GNOME Keyring and one using <a href="http://library.gnome.org/devel/glib/unstable/glib-Key-value-file-parser.html#GKeyFile"><span class="type">GKeyFile</span></a> (as a
fallback if GNOME Keyring is installed).
</p>
</div>
<div class="refsect1">
<a name="libtracker-miner-TrackerPasswordProvider.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="TRACKER-PASSWORD-PROVIDER-ERROR:CAPS"></a><h3>TRACKER_PASSWORD_PROVIDER_ERROR</h3>
<pre class="programlisting">#define TRACKER_PASSWORD_PROVIDER_ERROR         tracker_password_provider_error_quark()
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="TRACKER-PASSWORD-PROVIDER-ERROR-DOMAIN:CAPS"></a><h3>TRACKER_PASSWORD_PROVIDER_ERROR_DOMAIN</h3>
<pre class="programlisting">#define TRACKER_PASSWORD_PROVIDER_ERROR_DOMAIN  "TrackerPasswordProvider"
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="TrackerPasswordProvider"></a><h3>TrackerPasswordProvider</h3>
<pre class="programlisting">typedef struct TrackerPasswordProvider TrackerPasswordProvider;
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="TrackerPasswordProviderError"></a><h3>enum TrackerPasswordProviderError</h3>
<pre class="programlisting">typedef enum {
	TRACKER_PASSWORD_PROVIDER_ERROR_SERVICE,
	TRACKER_PASSWORD_PROVIDER_ERROR_NOTFOUND
} TrackerPasswordProviderError;
</pre>
<p>
The following errors are possible during any of the performed
actions with a password provider.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="TRACKER-PASSWORD-PROVIDER-ERROR-SERVICE:CAPS"></a><span class="term"><code class="literal">TRACKER_PASSWORD_PROVIDER_ERROR_SERVICE</code></span></p></td>
<td>An internal error
occurred which meant the operation failed.
</td>
</tr>
<tr>
<td><p><a name="TRACKER-PASSWORD-PROVIDER-ERROR-NOTFOUND:CAPS"></a><span class="term"><code class="literal">TRACKER_PASSWORD_PROVIDER_ERROR_NOTFOUND</code></span></p></td>
<td>No password provider was
found to store/retrieve the remote service's authentication
credentials
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="TrackerPasswordProviderIface"></a><h3>TrackerPasswordProviderIface</h3>
<pre class="programlisting">typedef struct {
	GTypeInterface parent_iface;

	gboolean (* store_password)  (TrackerPasswordProvider  *provider,
	                              const gchar              *service,
	                              const gchar              *description,
	                              const gchar              *username,
	                              const gchar              *password,
	                              GError                  **error);
	gchar *  (* get_password)    (TrackerPasswordProvider  *provider,
	                              const gchar              *service,
	                              gchar                   **username,
	                              GError                  **error);
	gboolean (* forget_password) (TrackerPasswordProvider  *provider,
	                              const gchar              *service,
	                              GError                  **error);
} TrackerPasswordProviderIface;
</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#GTypeInterface"><span class="type">GTypeInterface</span></a> <em class="structfield"><code><a name="TrackerPasswordProviderIface.parent-iface"></a>parent_iface</code></em>;</span></p></td>
<td>parent object interface</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="TrackerPasswordProviderIface.store-password"></a>store_password</code></em> ()</span></p></td>
<td>save the service, username and password</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="TrackerPasswordProviderIface.get-password"></a>get_password</code></em> ()</span></p></td>
<td>get a password for a given service</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="TrackerPasswordProviderIface.forget-password"></a>forget_password</code></em> ()</span></p></td>
<td>forget any password associated with a given
service</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-error-quark"></a><h3>tracker_password_provider_error_quark ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="returnvalue">GQuark</span></a>              tracker_password_provider_error_quark
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the <a href="http://library.gnome.org/devel/glib/unstable/glib-Quarks.html#GQuark"><span class="type">GQuark</span></a> used to identify password provider errors in
GError structures.</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-forget-password"></a><h3>tracker_password_provider_forget_password ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tracker_password_provider_forget_password
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>
This function calls the password provider's "forget_password"
implementation with <em class="parameter"><code>service</code></em>.
</p>
<p>
On failure <em class="parameter"><code>error</code></em> will be set.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>provider</code></em> :</span></p></td>
<td>a TrackerPasswordProvider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>service</code></em> :</span></p></td>
<td>the name of the remote service associated with <em class="parameter"><code>username</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>return location for errors. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym> callee-allocates][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-get"></a><h3>tracker_password_provider_get ()</h3>
<pre class="programlisting"><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="returnvalue">TrackerPasswordProvider</span></a> * tracker_password_provider_get (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
This function <span class="emphasis"><em>MUST</em></span> be defined by the
implementation of TrackerPasswordProvider.
</p>
<p>
For example, tracker-password-provider-gnome.c should include this
function for a GNOME Keyring implementation.
</p>
<p>
Only one implementation can exist at once.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><code class="literal">TrackerPasswordProvider</code></a>.</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-get-name"></a><h3>tracker_password_provider_get_name ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             tracker_password_provider_get_name  (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>);</pre>
<p>
At the moment there are only two providers, "GNOME Keyring" and
"GKeyFile". Either of these is what will be returned unless new
providers are written.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>provider</code></em> :</span></p></td>
<td>a TrackerPasswordProvider</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated string representing the name which must
be freed with <a href="http://library.gnome.org/devel/glib/unstable/glib-Memory-Allocation.html#g-free"><code class="function">g_free()</code></a>. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-get-password"></a><h3>tracker_password_provider_get_password ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             tracker_password_provider_get_password
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> **username</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>
This function calls the password provider's "get_password"
implementation with <em class="parameter"><code>service</code></em> and <em class="parameter"><code>username</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>provider</code></em> :</span></p></td>
<td>a TrackerPasswordProvider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>service</code></em> :</span></p></td>
<td>the name of the remote service associated with <em class="parameter"><code>username</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>username</code></em> :</span></p></td>
<td>the username associated with the password we are returning. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>return location for errors. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym> callee-allocates][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated string representing a password which
must be freed with <a href="http://library.gnome.org/devel/glib/unstable/glib-Memory-Allocation.html#g-free"><code class="function">g_free()</code></a>, otherwise <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> is returned and <em class="parameter"><code>error</code></em>
will be set.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-lock-password"></a><h3>tracker_password_provider_lock_password ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *             tracker_password_provider_lock_password
                                                        (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);</pre>
<p>
This function calls <code class="function">mlock()</code> to secure a memory region newly
allocated and <em class="parameter"><code>password</code></em> is copied using <code class="function">memcpy()</code> into the new
address.
</p>
<p>
Password can not be <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> or an empty string ("").
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>password</code></em> :</span></p></td>
<td>a string pointer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated string which <span class="emphasis"><em>MUST</em></span>
be freed with <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-unlock-password" title="tracker_password_provider_unlock_password ()"><code class="function">tracker_password_provider_unlock_password()</code></a>. On
failure <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> is returned. <span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-store-password"></a><h3>tracker_password_provider_store_password ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            tracker_password_provider_store_password
                                                        (<em class="parameter"><code><a class="link" href="libtracker-miner-TrackerPasswordProvider.html#TrackerPasswordProvider" title="TrackerPasswordProvider"><span class="type">TrackerPasswordProvider</span></a> *provider</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *service</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *description</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *username</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>
This function calls the password provider's "store_password"
implementation with <em class="parameter"><code>service</code></em>, <em class="parameter"><code>description</code></em>, <em class="parameter"><code>username</code></em> and <em class="parameter"><code>password</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>provider</code></em> :</span></p></td>
<td>a TrackerPasswordProvider</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>service</code></em> :</span></p></td>
<td>the name of the remote service associated with <em class="parameter"><code>username</code></em>
and <em class="parameter"><code>password</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>description</code></em> :</span></p></td>
<td>the description for <em class="parameter"><code>service</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>username</code></em> :</span></p></td>
<td>the username to store</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>password</code></em> :</span></p></td>
<td>the password to store</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>return location for errors. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym> callee-allocates][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the password was saved, otherwise <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> is
returned and <em class="parameter"><code>error</code></em> will be set.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-password-provider-unlock-password"></a><h3>tracker_password_provider_unlock_password ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            tracker_password_provider_unlock_password
                                                        (<em class="parameter"><code><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *password</code></em>);</pre>
<p>
This function calls <code class="function">munlock()</code> on <em class="parameter"><code>password</code></em> which should be a
secured memory region. The <em class="parameter"><code>password</code></em> is zeroed first with <code class="function">bzero()</code>
and once unlocked it is freed with <a href="http://library.gnome.org/devel/glib/unstable/glib-Memory-Allocation.html#g-free"><code class="function">g_free()</code></a>.
</p>
<p>
The <em class="parameter"><code>password</code></em> can not be <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> or an empty string (""). In
addition, <em class="parameter"><code>password</code></em> <span class="emphasis"><em>MUST</em></span> be a string created
with <a class="link" href="libtracker-miner-TrackerPasswordProvider.html#tracker-password-provider-lock-password" title="tracker_password_provider_lock_password ()"><code class="function">tracker_password_provider_lock_password()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>password</code></em> :</span></p></td>
<td>a string pointer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <code class="function">munlock()</code> succeeded, otherwise <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> is returned.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>